<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Spatial morphers for sfnetworks — spatial_morphers • sfnetworks</title>

<!-- favicons -->
<link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png" />
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png" />
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png" />
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png" />

<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Spatial morphers for sfnetworks — spatial_morphers" />
<meta property="og:description" content="Spatial morphers form spatial add-ons to the set of
morphers provided by tidygraph. These
functions are not meant to be called directly. They should either be passed
into morph to create a temporary alternative
representation of the input network. Such an alternative representation is a
list of one or more network objects. Single elements of that list can be
extracted directly as a new network by passing the morpher to
convert instead, to make the changes lasting rather
than temporary. Alternatively, if the morphed state contains multiple
elements, all of them can be extracted together inside a
tbl_df by passing the morpher to
crystallise." />
<meta property="og:image" content="/logo.png" />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">sfnetworks</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.5.3</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/sfn01_structure.html">1. The sfnetwork data structure</a>
    </li>
    <li>
      <a href="../articles/sfn02_preprocess_clean.html">2. Network pre-processing and cleaning</a>
    </li>
    <li>
      <a href="../articles/sfn03_join_filter.html">3. Spatial joins and filters</a>
    </li>
    <li>
      <a href="../articles/sfn04_routing.html">4. Routing</a>
    </li>
    <li>
      <a href="../articles/sfn05_morphers.html">5. Spatial morphers</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/luukvdmeer/sfnetworks/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Spatial morphers for sfnetworks</h1>
    <small class="dont-index">Source: <a href='https://github.com/luukvdmeer/sfnetworks/blob/master/R/morphers.R'><code>R/morphers.R</code></a></small>
    <div class="hidden name"><code>spatial_morphers.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Spatial morphers form spatial add-ons to the set of
<code><a href='https://tidygraph.data-imaginist.com/reference/morphers.html'>morphers</a></code> provided by <code>tidygraph</code>. These
functions are not meant to be called directly. They should either be passed
into <code><a href='https://tidygraph.data-imaginist.com/reference/morph.html'>morph</a></code> to create a temporary alternative
representation of the input network. Such an alternative representation is a
list of one or more network objects. Single elements of that list can be
extracted directly as a new network by passing the morpher to
<code><a href='https://tidygraph.data-imaginist.com/reference/morph.html'>convert</a></code> instead, to make the changes lasting rather
than temporary. Alternatively, if the morphed state contains multiple
elements, all of them can be extracted together inside a
<code><a href='https://tibble.tidyverse.org/reference/tbl_df-class.html'>tbl_df</a></code> by passing the morpher to
<code><a href='https://tidygraph.data-imaginist.com/reference/morph.html'>crystallise</a></code>.</p>
    </div>

    <pre class="usage"><span class='fu'>to_spatial_contracted</span><span class='op'>(</span>
  <span class='va'>x</span>,
  <span class='va'>...</span>,
  simplify <span class='op'>=</span> <span class='cn'>FALSE</span>,
  summarise_attributes <span class='op'>=</span> <span class='st'>"ignore"</span>,
  store_original_data <span class='op'>=</span> <span class='cn'>FALSE</span>
<span class='op'>)</span>

<span class='fu'>to_spatial_directed</span><span class='op'>(</span><span class='va'>x</span><span class='op'>)</span>

<span class='fu'>to_spatial_explicit</span><span class='op'>(</span><span class='va'>x</span>, <span class='va'>...</span><span class='op'>)</span>

<span class='fu'>to_spatial_neighborhood</span><span class='op'>(</span><span class='va'>x</span>, <span class='va'>node</span>, <span class='va'>threshold</span>, weights <span class='op'>=</span> <span class='cn'>NULL</span>, from <span class='op'>=</span> <span class='cn'>TRUE</span>, <span class='va'>...</span><span class='op'>)</span>

<span class='fu'>to_spatial_shortest_paths</span><span class='op'>(</span><span class='va'>x</span>, <span class='va'>...</span><span class='op'>)</span>

<span class='fu'>to_spatial_simple</span><span class='op'>(</span>
  <span class='va'>x</span>,
  remove_multiple <span class='op'>=</span> <span class='cn'>TRUE</span>,
  remove_loops <span class='op'>=</span> <span class='cn'>TRUE</span>,
  summarise_attributes <span class='op'>=</span> <span class='st'>"first"</span>,
  store_original_data <span class='op'>=</span> <span class='cn'>FALSE</span>
<span class='op'>)</span>

<span class='fu'>to_spatial_smooth</span><span class='op'>(</span><span class='va'>x</span>, store_original_data <span class='op'>=</span> <span class='cn'>FALSE</span><span class='op'>)</span>

<span class='fu'>to_spatial_subdivision</span><span class='op'>(</span><span class='va'>x</span><span class='op'>)</span>

<span class='fu'>to_spatial_subset</span><span class='op'>(</span><span class='va'>x</span>, <span class='va'>...</span>, subset_by <span class='op'>=</span> <span class='cn'>NULL</span><span class='op'>)</span>

<span class='fu'>to_spatial_transformed</span><span class='op'>(</span><span class='va'>x</span>, <span class='va'>...</span><span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>x</th>
      <td><p>An object of class <code><a href='sfnetwork.html'>sfnetwork</a></code>.</p></td>
    </tr>
    <tr>
      <th>...</th>
      <td><p>Arguments to be passed on to other functions. See the description
of each morpher for details.</p></td>
    </tr>
    <tr>
      <th>simplify</th>
      <td><p>Should the network be simplified after contraction? This
means that multiple edges and loop edges will be removed. Multiple edges
are introduced by contraction when there are several connections between
the same groups of nodes. Loop edges are introduced by contraction when
there are connections within a group. Note however that setting this to
<code>TRUE</code> also removes multiple edges and loop edges that already
existed before contraction. Defaults to <code>FALSE</code>.</p></td>
    </tr>
    <tr>
      <th>summarise_attributes</th>
      <td><p>Whenever multiple features (i.e. nodes and/or
edges) are merged into a single feature during morphing, how should their
attributes be combined? Several options are possible, see
<code><a href='https://rdrr.io/pkg/igraph/man/igraph-attribute-combination.html'>igraph-attribute-combination</a></code> for details.</p></td>
    </tr>
    <tr>
      <th>store_original_data</th>
      <td><p>Whenever multiple features (i.e. nodes and/or
edges) are merged into a single feature during morphing, should the data of
the original features be stored as an attribute of the new feature, in a
column named <code>.orig_data</code>. This is in line with the design principles
of <code>tidygraph</code>. Defaults to <code>FALSE</code>.</p></td>
    </tr>
    <tr>
      <th>node</th>
      <td><p>The geospatial point for which the neighborhood will be
calculated. Can be an integer, referring to the index of the node for which
the neighborhood will be calculated. Can also be an object of class
<code><a href='https://r-spatial.github.io/sf/reference/sf.html'>sf</a></code> or <code><a href='https://r-spatial.github.io/sf/reference/sfc.html'>sfc</a></code>, containing a single feature.
In that case, this point will be snapped to its nearest node before
calculating the neighborhood. When multiple indices or features are given,
only the first one is taken.</p></td>
    </tr>
    <tr>
      <th>threshold</th>
      <td><p>The threshold distance to be used. Only nodes within the
threshold distance from the reference node will be included in the
neighborhood. Should be a numeric value in the same units as the weight
values used for distance calculation.</p></td>
    </tr>
    <tr>
      <th>weights</th>
      <td><p>The edge weights used to calculate distances on the network.
Can be a numeric vector giving edge weights, or a column name referring to
an attribute column in the edges table containing those weights. If set to
<code>NULL</code>, the values of a column named <code>weight</code> in the edges table
will be used automatically, as long as this column is present. If not, the
geographic edge lengths will be calculated internally and used as weights.</p></td>
    </tr>
    <tr>
      <th>from</th>
      <td><p>Should distances be calculated from the reference node towards
the other nodes? Defaults to <code>TRUE</code>. If set to <code>FALSE</code>, distances
will be calculated from the other nodes towards the reference node instead.</p></td>
    </tr>
    <tr>
      <th>remove_multiple</th>
      <td><p>Should multiple edges be merged into one. Defaults
to <code>TRUE</code>.</p></td>
    </tr>
    <tr>
      <th>remove_loops</th>
      <td><p>Should loop edges be removed. Defaults to <code>TRUE</code>.</p></td>
    </tr>
    <tr>
      <th>subset_by</th>
      <td><p>Whether to create subgraphs based on nodes or edges.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>Either a <code>morphed_sfnetwork</code>, which is a list of one or more
<code><a href='sfnetwork.html'>sfnetwork</a></code> objects, or a <code>morphed_tbl_graph</code>, which is a
list of one or more <code><a href='https://tidygraph.data-imaginist.com/reference/tbl_graph.html'>tbl_graph</a></code> objects. See the
description of each morpher for details.</p>
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>It also possible to create your own morphers. See the documentation
of <code><a href='https://tidygraph.data-imaginist.com/reference/morph.html'>morph</a></code> for the requirements for custom morphers.</p>
    <h2 class="hasAnchor" id="functions"><a class="anchor" href="#functions"></a>Functions</h2>

    
<ul>
<li><p><code>to_spatial_contracted</code>: Combine groups of nodes into a single node per
group. <code>...</code> is forwarded to <code><a href='https://dplyr.tidyverse.org/reference/group_by.html'>group_by</a></code> to
create the groups. The centroid of the group of nodes will be used as
geometry of the contracted node. If edge are spatially explicit, edge
geometries are updated accordingly such that the valid spatial network
structure is preserved. Returns a <code>morphed_sfnetwork</code> containing a
single element of class <code><a href='sfnetwork.html'>sfnetwork</a></code>.</p></li>
<li><p><code>to_spatial_directed</code>: Make a network directed in the direction given
by the linestring geometries of the edges. Differs from
<code><a href='https://tidygraph.data-imaginist.com/reference/morphers.html'>to_directed</a></code>, which makes a network directed based
on the node indices given in the <code>from</code> and <code>to</code> columns. In
undirected networks these indices may not correspond with the endpoints of
the linestring geometries. Returns a <code>morphed_sfnetwork</code> containing a
single element of class <code><a href='sfnetwork.html'>sfnetwork</a></code>. This morpher requires edges
to be spatially explicit. If not, use <code><a href='https://tidygraph.data-imaginist.com/reference/morphers.html'>to_directed</a></code>.</p></li>
<li><p><code>to_spatial_explicit</code>: Create linestring geometries between source
and target nodes of edges. If the edges data can be directly converted to
an object of class <code><a href='https://r-spatial.github.io/sf/reference/sf.html'>sf</a></code> using <code><a href='https://r-spatial.github.io/sf/reference/st_as_sf.html'>st_as_sf</a></code>,
extra arguments can be provided as <code>...</code> and will be forwarded to
<code><a href='https://r-spatial.github.io/sf/reference/st_as_sf.html'>st_as_sf</a></code> internally. Otherwise, straight lines will be
drawn between the source and target node of each edge. Returns a
<code>morphed_sfnetwork</code> containing a single element of class
<code><a href='sfnetwork.html'>sfnetwork</a></code>.</p></li>
<li><p><code>to_spatial_neighborhood</code>: Limit a network to the spatial neighborhood of
a specific node. <code>...</code> is forwarded to
<code><a href='https://tidygraph.data-imaginist.com/reference/pair_measures.html'>node_distance_from</a></code> (if <code>from</code> is <code>TRUE</code>)
or <code><a href='https://tidygraph.data-imaginist.com/reference/pair_measures.html'>node_distance_to</a></code> (if <code>from</code> is
<code>FALSE</code>). Returns a <code>morphed_sfnetwork</code> containing a single
element of class <code><a href='sfnetwork.html'>sfnetwork</a></code>.</p></li>
<li><p><code>to_spatial_shortest_paths</code>: Limit a network to those nodes and edges that
are part of the shortest path between two nodes. <code>...</code> is evaluated in
the same manner as <code><a href='st_network_paths.html'>st_network_paths</a></code> with
<code>type = 'shortest'</code>. Returns a <code>morphed_sfnetwork</code> that may
contain multiple elements of class <code><a href='sfnetwork.html'>sfnetwork</a></code>, depending on
the number of requested paths. When unmorphing only the first instance of
both the node and edge data will be used, as the the same node and/or edge
can be present in multiple paths.</p></li>
<li><p><code>to_spatial_simple</code>: Remove loop edges and/or merges multiple edges
into a single edge. Multiple edges are edges that have the same source and
target nodes (in directed networks) or edges that are incident to the same
nodes (in undirected networks). When merging them into a single edge, the
geometry of the first edge is preserved. The order of the edges can be
influenced by calling <code><a href='https://dplyr.tidyverse.org/reference/arrange.html'>arrange</a></code> before simplifying.
Returns a <code>morphed_sfnetwork</code> containing a single element of class
<code><a href='sfnetwork.html'>sfnetwork</a></code>.</p></li>
<li><p><code>to_spatial_smooth</code>: Construct a smoothed version of the network by
iteratively removing pseudo nodes, while preserving the connectivity of the
network. In the case of directed networks, pseudo nodes are those nodes that
have only one incoming and one outgoing edge. In undirected networks, pseudo
nodes are those nodes that have two incident edges. Connectivity of the
network is preserved by concatenating the incident edges of each removed
pseudo node. Returns a <code>morphed_sfnetwork</code> containing a single element
of class <code><a href='sfnetwork.html'>sfnetwork</a></code>.</p></li>
<li><p><code>to_spatial_subdivision</code>: Construct a subdivision of the network by
subdividing edges at each interior point that is equal to any
other interior or boundary point in the edges table. Interior points in this
sense are those points that are included in their linestring geometry
feature but are not endpoints of it, while boundary points are the endpoints
of the linestrings. The network is reconstructed after subdivision such that
edges are connected at the points of subdivision. Returns a
<code>morphed_sfnetwork</code> containing a single element of class
<code><a href='sfnetwork.html'>sfnetwork</a></code>. This morpher requires edges to be spatially
explicit.</p></li>
<li><p><code>to_spatial_subset</code>: Subset the network by applying a spatial
filter, i.e. a filter on the geometry column based on a spatial predicate.
<code>...</code> is evaluated in the same manner as <code><a href='https://r-spatial.github.io/sf/reference/st_join.html'>st_filter</a></code>.
Returns a <code>morphed_sfnetwork</code> containing a single element of class
<code><a href='sfnetwork.html'>sfnetwork</a></code>. For filters on an attribute column, use
<code><a href='https://tidygraph.data-imaginist.com/reference/morphers.html'>to_subgraph</a></code>.</p></li>
<li><p><code>to_spatial_transformed</code>: Transform the geospatial coordinates of the
network into a different coordinate reference system. <code>...</code> is
evaluated in the same manner as <code><a href='https://r-spatial.github.io/sf/reference/st_transform.html'>st_transform</a></code>.
Returns a <code>morphed_sfnetwork</code> containing a single element of class
<code><a href='sfnetwork.html'>sfnetwork</a></code>.</p></li>
</ul>
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p>The vignette on
<a href='https://luukvdmeer.github.io/sfnetworks/articles/morphers.html'>spatial morphers</a>.</p></div>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><span class='r-in'><span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='https://r-spatial.github.io/sf/'>sf</a></span>, quietly <span class='op'>=</span> <span class='cn'>TRUE</span><span class='op'>)</span></span>
<span class='r-in'><span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='https://tidygraph.data-imaginist.com'>tidygraph</a></span>, quietly <span class='op'>=</span> <span class='cn'>TRUE</span><span class='op'>)</span></span>
<span class='r-in'></span>
<span class='r-in'><span class='va'>net</span> <span class='op'>=</span> <span class='fu'><a href='as_sfnetwork.html'>as_sfnetwork</a></span><span class='op'>(</span><span class='va'>roxel</span>, directed <span class='op'>=</span> <span class='cn'>FALSE</span><span class='op'>)</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span></span>
<span class='r-in'>  <span class='fu'><a href='https://r-spatial.github.io/sf/reference/st_transform.html'>st_transform</a></span><span class='op'>(</span><span class='fl'>3035</span><span class='op'>)</span></span>
<span class='r-in'></span>
<span class='r-in'><span class='co'># Temporary changes with morph and unmorph.</span></span>
<span class='r-in'><span class='va'>net</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span></span>
<span class='r-in'> <span class='fu'><a href='https://tidygraph.data-imaginist.com/reference/activate.html'>activate</a></span><span class='op'>(</span><span class='st'>"edges"</span><span class='op'>)</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span></span>
<span class='r-in'> <span class='fu'><a href='https://dplyr.tidyverse.org/reference/mutate.html'>mutate</a></span><span class='op'>(</span>weight <span class='op'>=</span> <span class='fu'><a href='spatial_edge_measures.html'>edge_length</a></span><span class='op'>(</span><span class='op'>)</span><span class='op'>)</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span></span>
<span class='r-in'> <span class='fu'><a href='https://tidygraph.data-imaginist.com/reference/morph.html'>morph</a></span><span class='op'>(</span><span class='va'>to_spatial_shortest_paths</span>, from <span class='op'>=</span> <span class='fl'>1</span>, to <span class='op'>=</span> <span class='fl'>10</span><span class='op'>)</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span></span>
<span class='r-in'> <span class='fu'><a href='https://dplyr.tidyverse.org/reference/mutate.html'>mutate</a></span><span class='op'>(</span>in_paths <span class='op'>=</span> <span class='cn'>TRUE</span><span class='op'>)</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span></span>
<span class='r-in'> <span class='fu'><a href='https://tidygraph.data-imaginist.com/reference/morph.html'>unmorph</a></span><span class='op'>(</span><span class='op'>)</span></span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> <span style='color: #555555;'># A sfnetwork with</span> <span style='color: #555555;'>701</span> <span style='color: #555555;'>nodes and</span> <span style='color: #555555;'>851</span> <span style='color: #555555;'>edges</span></span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> <span style='color: #555555;'>#</span></span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> <span style='color: #555555;'># CRS: </span> <span style='color: #555555;'>EPSG:3035</span> </span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> <span style='color: #555555;'>#</span></span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> <span style='color: #555555;'># An undirected multigraph with 14 components with spatially explicit edges</span></span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> <span style='color: #555555;'>#</span></span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> <span style='color: #949494;'># Edge Data:     851 × 7 (active)</span></span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> <span style='color: #949494;'># Geometry type: LINESTRING</span></span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> <span style='color: #949494;'># Dimension:     XY</span></span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> <span style='color: #949494;'># Bounding box:  xmin: 4150707 ymin: 3206375 xmax: 4152367 ymax: 3208565</span></span>
<span class='r-out co'><span class='r-pr'>#&gt;</span>    from    to name     type                             geometry weight in_paths</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span>   <span style='color: #949494; font-style: italic;'>&lt;int&gt;</span> <span style='color: #949494; font-style: italic;'>&lt;int&gt;</span> <span style='color: #949494; font-style: italic;'>&lt;chr&gt;</span>    <span style='color: #949494; font-style: italic;'>&lt;fct&gt;</span>                    <span style='color: #949494; font-style: italic;'>&lt;LINESTRING [m]&gt;</span>    <span style='color: #949494;'>[m]</span> <span style='color: #949494; font-style: italic;'>&lt;lgl&gt;</span>   </span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> <span style='color: #BCBCBC;'>1</span>     1     2 Havixbe… resid… (4151491 3207923, 4151474 3207946)   28.9 <span style='color: #BB0000;'>NA</span>      </span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> <span style='color: #BCBCBC;'>2</span>     3     4 Pieners… secon… (4151398 3207777, 4151390 3207727…  108.  <span style='color: #BB0000;'>NA</span>      </span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> <span style='color: #BCBCBC;'>3</span>     5     6 Schulte… resid… (4151408 3207539, 4151417 3207573…   54.4 <span style='color: #BB0000;'>NA</span>      </span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> <span style='color: #BCBCBC;'>4</span>     7     8 <span style='color: #BB0000;'>NA</span>       path   (4151885 3206698, 4151861 3206711…  155.  <span style='color: #BB0000;'>NA</span>      </span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> <span style='color: #BCBCBC;'>5</span>     9    10 Welsing… resid… (4151732 3207017, 4151721 3206809)  209.  TRUE    </span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> <span style='color: #BCBCBC;'>6</span>    11    12 <span style='color: #BB0000;'>NA</span>       footw… (4152152 3206984, 4152143 3206932…   63.0 <span style='color: #BB0000;'>NA</span>      </span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> <span style='color: #949494;'># … with 845 more rows</span></span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> <span style='color: #555555;'>#</span></span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> <span style='color: #949494;'># Node Data:     701 × 1</span></span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> <span style='color: #949494;'># Geometry type: POINT</span></span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> <span style='color: #949494;'># Dimension:     XY</span></span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> <span style='color: #949494;'># Bounding box:  xmin: 4150707 ymin: 3206375 xmax: 4152367 ymax: 3208565</span></span>
<span class='r-out co'><span class='r-pr'>#&gt;</span>            geometry</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span>         <span style='color: #949494; font-style: italic;'>&lt;POINT [m]&gt;</span></span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> <span style='color: #BCBCBC;'>1</span> (4151491 3207923)</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> <span style='color: #BCBCBC;'>2</span> (4151474 3207946)</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> <span style='color: #BCBCBC;'>3</span> (4151398 3207777)</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> <span style='color: #949494;'># … with 698 more rows</span></span>
<span class='r-in'></span>
<span class='r-in'><span class='co'># Lasting changes with convert.</span></span>
<span class='r-in'><span class='va'>net</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span></span>
<span class='r-in'> <span class='fu'><a href='https://tidygraph.data-imaginist.com/reference/activate.html'>activate</a></span><span class='op'>(</span><span class='st'>"edges"</span><span class='op'>)</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span></span>
<span class='r-in'> <span class='fu'><a href='https://dplyr.tidyverse.org/reference/mutate.html'>mutate</a></span><span class='op'>(</span>weight <span class='op'>=</span> <span class='fu'><a href='spatial_edge_measures.html'>edge_length</a></span><span class='op'>(</span><span class='op'>)</span><span class='op'>)</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span></span>
<span class='r-in'> <span class='fu'><a href='https://tidygraph.data-imaginist.com/reference/morph.html'>convert</a></span><span class='op'>(</span><span class='va'>to_spatial_shortest_paths</span>, from <span class='op'>=</span> <span class='fl'>1</span>, to <span class='op'>=</span> <span class='fl'>10</span><span class='op'>)</span></span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> <span style='color: #555555;'># A sfnetwork with</span> <span style='color: #555555;'>18</span> <span style='color: #555555;'>nodes and</span> <span style='color: #555555;'>17</span> <span style='color: #555555;'>edges</span></span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> <span style='color: #555555;'>#</span></span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> <span style='color: #555555;'># CRS: </span> <span style='color: #555555;'>EPSG:3035</span> </span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> <span style='color: #555555;'>#</span></span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> <span style='color: #555555;'># An unrooted tree with spatially explicit edges</span></span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> <span style='color: #555555;'>#</span></span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> <span style='color: #949494;'># Edge Data:     17 × 7 (active)</span></span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> <span style='color: #949494;'># Geometry type: LINESTRING</span></span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> <span style='color: #949494;'># Dimension:     XY</span></span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> <span style='color: #949494;'># Bounding box:  xmin: 4151491 ymin: 3206809 xmax: 4151802 ymax: 3207923</span></span>
<span class='r-out co'><span class='r-pr'>#&gt;</span>    from    to name   type                       geometry weight .tidygraph_edge…</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span>   <span style='color: #949494; font-style: italic;'>&lt;int&gt;</span> <span style='color: #949494; font-style: italic;'>&lt;int&gt;</span> <span style='color: #949494; font-style: italic;'>&lt;chr&gt;</span>  <span style='color: #949494; font-style: italic;'>&lt;fct&gt;</span>              <span style='color: #949494; font-style: italic;'>&lt;LINESTRING [m]&gt;</span>    <span style='color: #949494;'>[m]</span>            <span style='color: #949494; font-style: italic;'>&lt;int&gt;</span></span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> <span style='color: #BCBCBC;'>1</span>     2     3 Welsi… resid… (4151732 3207017, 4151721 3…  209.                 5</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> <span style='color: #BCBCBC;'>2</span>     2     6 Nottu… resid… (4151732 3207017, 4151755 3…   84.4               94</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> <span style='color: #BCBCBC;'>3</span>     5     8 Roxel… secon… (4151531 3207830, 4151535 3…   98.3              159</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> <span style='color: #BCBCBC;'>4</span>     8    12 Roxel… secon… (4151519 3207865, 4151524 3…   37.0              295</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> <span style='color: #BCBCBC;'>5</span>     5     7 Dorff… resid… (4151620 3207798, 4151621 3…   49.3              486</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> <span style='color: #BCBCBC;'>6</span>     9    15 Dorff… resid… (4151786 3207133, 4151794 3…   32.7              591</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> <span style='color: #949494;'># … with 11 more rows</span></span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> <span style='color: #555555;'>#</span></span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> <span style='color: #949494;'># Node Data:     18 × 2</span></span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> <span style='color: #949494;'># Geometry type: POINT</span></span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> <span style='color: #949494;'># Dimension:     XY</span></span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> <span style='color: #949494;'># Bounding box:  xmin: 4151491 ymin: 3206809 xmax: 4151802 ymax: 3207923</span></span>
<span class='r-out co'><span class='r-pr'>#&gt;</span>            geometry .tidygraph_node_index</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span>         <span style='color: #949494; font-style: italic;'>&lt;POINT [m]&gt;</span>                 <span style='color: #949494; font-style: italic;'>&lt;int&gt;</span></span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> <span style='color: #BCBCBC;'>1</span> (4151491 3207923)                     1</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> <span style='color: #BCBCBC;'>2</span> (4151732 3207017)                     9</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> <span style='color: #BCBCBC;'>3</span> (4151721 3206809)                    10</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> <span style='color: #949494;'># … with 15 more rows</span></span>
<span class='r-in'></span>
</pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Lucas van der Meer, Lorena Abad, Andrea Gilardi, Robin Lovelace.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


